<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    <title>Body Type Calculator - Find Your Body Shape | ZenCalcs</title>
    <meta name="description" content="Free body type calculator. Identify your body shape from 7 types (hourglass, pear, rectangle, etc.) and get WHR health assessment.">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMJ87N3YC3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YMJ87N3YC3');
    </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* Typography */
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #F8F9FA; min-height: 100vh; color: #2D3748; }

        /* Navigation */
        .navbar { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 15px 30px; position: sticky; top: 0; z-index: 1000; }
        .nav-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { height: 40px; width: auto; }
        .nav-right { display: flex; gap: 20px; align-items: center; }
        .search-box { display: flex; align-items: center; background: #FFFFFF; border: 1px solid #E5E7EB; border-radius: 8px; padding: 8px 16px; min-width: 250px; transition: all 0.3s ease; }
        .search-box:hover { border-color: #2C5F6F; }
        .search-box:focus-within { border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .search-box svg { width: 20px; height: 20px; color: #6B7280; margin-right: 10px; }
        .search-box input { border: none; outline: none; background: transparent; flex: 1; color: #2D3748; font-size: 0.95em; }
        .search-box input::placeholder { color: #D1D5DB; }
        .hamburger { display: flex; flex-direction: column; gap: 5px; cursor: pointer; padding: 5px; }
        .hamburger span { width: 28px; height: 3px; background: #2C5F6F; border-radius: 3px; transition: all 0.3s ease; }
        .hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(8px, 8px); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }
        .mobile-menu { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(0,0,0,0.5); z-index: 999; }
        .mobile-menu.active { display: block; }
        .mobile-menu-content { position: fixed; top: 0; right: -350px; width: 320px; height: 100vh; background: white; box-shadow: -2px 0 10px rgba(0,0,0,0.1); transition: right 0.3s ease; padding: 80px 20px 20px 20px; overflow-y: auto; }
        .mobile-menu.active .mobile-menu-content { right: 0; }
        .search-container { padding: 10px 15px 20px; }
        .search-input { width: 100%; padding: 12px 15px; border: 2px solid #E5E7EB; border-radius: 8px; font-size: 1em; }
        .search-input:focus { outline: none; border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .category-header { font-size: 0.9em; font-weight: 700; color: #6B7280; padding: 15px 20px 10px; text-transform: uppercase; letter-spacing: 1px; }
        .category-divider { height: 1px; background: #E5E7EB; margin: 10px 0; }
        .mobile-menu-item { padding: 14px 20px; margin-bottom: 5px; background: #F8F9FA; border-radius: 8px; font-size: 0.95em; font-weight: 500; color: #2C5F6F; text-decoration: none; display: block; transition: all 0.3s ease; border-left: 4px solid transparent; }
        .mobile-menu-item:hover { background: #E0F2F1; border-left-color: #2C5F6F; transform: translateX(-5px); }
        .mobile-menu-item.placeholder { opacity: 0.5; cursor: not-allowed; }
        .mobile-menu-item.placeholder:hover { transform: none; }

        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .calculator-section { background: white; border-radius: 15px; padding: 40px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); margin-bottom: 30px; }
        .calculator-section h1 { color: #2D3748; margin-bottom: 10px; font-size: 2.2em; text-align: center; }
        .calc-subtitle { text-align: center; color: #6B7280; margin-bottom: 30px; font-size: 1.1em; }
        .description { background: #E0F2F1; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 5px solid #2C5F6F; }
        .description p { color: #4B5563; line-height: 1.8; font-size: 1.05em; }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #4B5563; font-size: 1em; }
        .input-group input, .input-group select { width: 100%; padding: 14px; border: 2px solid #E5E7EB; border-radius: 8px; font-size: 1em; transition: all 0.3s ease; }
        .input-group input:focus, .input-group select:focus { outline: none; border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .input-group .helper-text { font-size: 0.85em; color: #6B7280; margin-top: 5px; font-style: italic; }
        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .calculate-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, #E89B6F 0%, #F4A460 100%); color: white; border: none; border-radius: 10px; font-size: 1.2em; font-weight: 700; cursor: pointer; transition: all 0.3s ease; margin-top: 25px; box-shadow: 0 4px 15px rgba(232, 155, 111, 0.4); }
        .calculate-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(232, 155, 111, 0.5); }

        .result-section { margin-top: 40px; display: none; }
        .key-insight { background: linear-gradient(135deg, #2C5F6F 0%, #1F4A56 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(44, 95, 111, 0.3); }
        .key-insight h3 { font-size: 1.8em; margin-bottom: 15px; }
        .key-insight p { font-size: 1.1em; line-height: 1.8; opacity: 0.95; margin-bottom: 10px; }
        .key-insight .shape-description { font-size: 1em; margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2); }

        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .metric-card { background: #F8F9FA; padding: 25px; border-radius: 12px; border-left: 5px solid #2C5F6F; transition: all 0.3s ease; }
        .metric-card:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .metric-label { font-size: 0.95em; color: #6B7280; margin-bottom: 10px; font-weight: 600; }
        .metric-value { font-size: 1.8em; font-weight: 700; color: #2C5F6F; word-break: break-word; }

        .ratios-section { margin-bottom: 30px; }
        .ratios-section h3 { color: #2D3748; font-size: 1.5em; margin-bottom: 20px; }
        .ratio-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .ratio-card { background: #F8F9FA; padding: 20px; border-radius: 12px; border-left: 5px solid #E89B6F; }
        .ratio-card .metric-label { color: #6B7280; }
        .ratio-card .metric-value { color: #E89B6F; font-size: 1.6em; }

        .styling-tips { background: #FFF9F5; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 5px solid #E89B6F; }
        .styling-tips h3 { color: #2D3748; font-size: 1.5em; margin-bottom: 15px; }
        .styling-tips p { color: #4B5563; line-height: 1.8; font-size: 1.05em; }

        .chart-container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 30px; position: relative; height: 400px; }

        @media (max-width: 768px) {
            .navbar { padding: 10px 15px; }
            .logo { height: 32px; }
            .nav-right { gap: 10px; }
            .search-box { min-width: 50px; padding: 6px 8px; }
            .search-box svg { width: 16px; height: 16px; margin-right: 4px; }
            .search-box input { font-size: 0.8em; }
            .calculator-section { padding: 25px; }
            .calculator-section h1 { font-size: 1.8em; }
            .chart-container { height: 300px; padding: 20px; }
            .input-row { grid-template-columns: 1fr; }
            .mobile-menu-content { width: 280px; right: -280px; }
            .hamburger { margin-left: 5px; padding: 3px; }
            .hamburger span { width: 24px; }
        }
        @media (max-width: 400px) {
            .navbar { padding: 8px 12px; }
            .logo { height: 28px; }
            .nav-right { gap: 8px; }
            .search-box { min-width: 40px; padding: 5px 6px; }
            .hamburger span { width: 22px; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">
                <img src="50F4465B-4D0A-459B-AAD8-B367AAEEF636.jpg" alt="ZenCalcs Logo" class="logo">
            </a>
            <div class="nav-right">
                <div class="search-box" onclick="openSearchInMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input type="text" placeholder="Search Calculator" readonly onclick="openSearchInMenu()">
                </div>
                <div class="hamburger" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <div class="mobile-menu" id="mobileMenu" onclick="closeMobileMenu()">
        <div class="mobile-menu-content" onclick="event.stopPropagation()">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Search calculators..." onkeyup="filterCalculators()">
            </div>
            <div class="category-header">Financial</div>
            <a href="mortgage-calculator.html" class="mobile-menu-item">Mortgage Calculator</a>
            <a href="loan-calculator.html" class="mobile-menu-item">Loan Calculator</a>
            <a href="auto-loan-calculator.html" class="mobile-menu-item">Auto Loan Calculator</a>
            <a href="compound-interest.html" class="mobile-menu-item">Savings Calculator</a>
            <a href="payment-calculator.html" class="mobile-menu-item">Payment Calculator</a>
            <a href="retirement-calculator.html" class="mobile-menu-item">Retirement Calculator</a>
            <a href="amortization-calculator.html" class="mobile-menu-item">Amortization Calculator</a>
            <a href="investment-calculator.html" class="mobile-menu-item">Investment Calculator</a>
            <a href="inflation-calculator.html" class="mobile-menu-item">Inflation Calculator</a>
            <a href="roi-calculator.html" class="mobile-menu-item">ROI Calculator</a>
            <a href="savings-calculator.html" class="mobile-menu-item">Income Tax Calculator</a>
            <div class="category-divider"></div>
            <div class="category-header">Fitness & Health</div>
            <a href="bmi-calculator.html" class="mobile-menu-item">BMI Calculator</a>
            <a href="calorie-calculator.html" class="mobile-menu-item">Calorie Calculator</a>
            <a href="body-fat-calculator.html" class="mobile-menu-item">Body Fat Calculator</a>
            <a href="bmr-calculator.html" class="mobile-menu-item">BMR Calculator</a>
            <a href="ideal-weight-calculator.html" class="mobile-menu-item">Ideal Weight Calculator</a>
            <a href="pace-calculator.html" class="mobile-menu-item">Pace Calculator</a>
            <a href="pregnancy-calculator.html" class="mobile-menu-item">Pregnancy Calculator</a>
            <a href="due-date-calculator.html" class="mobile-menu-item">Due Date Calculator</a>
            <a href="macro-calculator.html" class="mobile-menu-item">Macro Calculator</a>
            <a href="body-type-calculator.html" class="mobile-menu-item">Body Type Calculator</a>
            <div class="category-divider"></div>
            <div class="category-header">Math</div>
            <a href="scientific-calculator.html" class="mobile-menu-item">Scientific Calculator</a>
            <a href="fraction-calculator.html" class="mobile-menu-item">Fraction Calculator</a>
            <a href="percentage-calculator.html" class="mobile-menu-item">Percentage Calculator</a>
            <a href="random-number-generator.html" class="mobile-menu-item">Random Number Generator</a>
            <a href="triangle-calculator.html" class="mobile-menu-item">Triangle Calculator</a>
            <a href="standard-deviation-calculator.html" class="mobile-menu-item">Standard Deviation Calculator</a>
            <a href="square-root-calculator.html" class="mobile-menu-item">Square Root Calculator</a>
            <a href="exponent-calculator.html" class="mobile-menu-item">Exponent Calculator</a>
            <a href="log-calculator.html" class="mobile-menu-item">Log Calculator</a>
            <a href="algebra-calculator.html" class="mobile-menu-item">Algebra Calculator</a>
            <div class="category-divider"></div>
            <div class="category-header">Other</div>
            <a href="#" class="mobile-menu-item placeholder">Age Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Date Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Time Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Hours Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">GPA Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Grade Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Concrete Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Password Generator</a>
            <a href="#" class="mobile-menu-item placeholder">Conversion Calculator</a>
            <a href="salary-calculator.html" class="mobile-menu-item">Salary Calculator</a>
        </div>
    </div>

    <div class="container">
        <div class="calculator-section">
            <h1>Body Type Calculator</h1>
            <p class="calc-subtitle">Discover your body shape and get personalized styling recommendations</p>

            <div class="description">
                <p>Understanding your body type helps you make informed decisions about clothing styles, fitness goals, and overall wellness. This calculator identifies your body shape from 7 distinct types based on your measurements and provides personalized insights including Waist-to-Hip Ratio (WHR) for health assessment.</p>
            </div>

            <div class="input-group">
                <label>Unit System</label>
                <select id="unitSystem" onchange="toggleUnits()">
                    <option value="imperial">Imperial (inches)</option>
                    <option value="metric">Metric (cm)</option>
                </select>
            </div>

            <div id="imperialInputs">
                <div class="input-row">
                    <div class="input-group">
                        <label>Bust (inches)</label>
                        <input type="number" id="bustInches" value="36" min="20" max="80" step="0.1">
                        <div class="helper-text">Circumference around fullest part of breasts</div>
                    </div>
                    <div class="input-group">
                        <label>Waist (inches)</label>
                        <input type="number" id="waistInches" value="28" min="15" max="80" step="0.1">
                        <div class="helper-text">Smallest circumference around natural waist</div>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>High Hip (inches)</label>
                        <input type="number" id="highHipInches" value="36" min="20" max="80" step="0.1">
                        <div class="helper-text">Circumference 7 inches below natural waist</div>
                    </div>
                    <div class="input-group">
                        <label>Hip (inches)</label>
                        <input type="number" id="hipInches" value="38" min="20" max="80" step="0.1">
                        <div class="helper-text">Largest circumference around hips</div>
                    </div>
                </div>
            </div>

            <div id="metricInputs" style="display: none;">
                <div class="input-row">
                    <div class="input-group">
                        <label>Bust (cm)</label>
                        <input type="number" id="bustCm" value="91.4" min="50" max="200" step="0.1">
                        <div class="helper-text">Circumference around fullest part of breasts</div>
                    </div>
                    <div class="input-group">
                        <label>Waist (cm)</label>
                        <input type="number" id="waistCm" value="71.1" min="40" max="200" step="0.1">
                        <div class="helper-text">Smallest circumference around natural waist</div>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>High Hip (cm)</label>
                        <input type="number" id="highHipCm" value="91.4" min="50" max="200" step="0.1">
                        <div class="helper-text">Circumference 18cm below natural waist</div>
                    </div>
                    <div class="input-group">
                        <label>Hip (cm)</label>
                        <input type="number" id="hipCm" value="96.5" min="50" max="200" step="0.1">
                        <div class="helper-text">Largest circumference around hips</div>
                    </div>
                </div>
            </div>

            <button class="calculate-btn" onclick="calculateBodyType()">Calculate Body Type</button>
            <div class="result-section" id="result"></div>
        </div>
    </div>

    <script>
        let radarChartInstance = null;
        let barChartInstance = null;

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.remove('active');
            hamburger.classList.remove('active');
        }

        function openSearchInMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.add('active');
            hamburger.classList.add('active');
            setTimeout(() => {
                document.getElementById('searchInput').focus();
            }, 300);
        }

        function filterCalculators() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const items = document.querySelectorAll('.mobile-menu-item');
            const headers = document.querySelectorAll('.category-header');
            const dividers = document.querySelectorAll('.category-divider');

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });

            if (searchTerm) {
                headers.forEach(header => header.style.display = 'none');
                dividers.forEach(divider => divider.style.display = 'none');
            } else {
                headers.forEach(header => header.style.display = 'block');
                dividers.forEach(divider => divider.style.display = 'block');
            }
        }

        function toggleUnits() {
            const unitSystem = document.getElementById('unitSystem').value;
            const metricInputs = document.getElementById('metricInputs');
            const imperialInputs = document.getElementById('imperialInputs');

            if (unitSystem === 'metric') {
                // Convert imperial to metric
                const bust = parseFloat(document.getElementById('bustInches').value) * 2.54;
                const waist = parseFloat(document.getElementById('waistInches').value) * 2.54;
                const highHip = parseFloat(document.getElementById('highHipInches').value) * 2.54;
                const hip = parseFloat(document.getElementById('hipInches').value) * 2.54;

                document.getElementById('bustCm').value = bust.toFixed(1);
                document.getElementById('waistCm').value = waist.toFixed(1);
                document.getElementById('highHipCm').value = highHip.toFixed(1);
                document.getElementById('hipCm').value = hip.toFixed(1);

                metricInputs.style.display = 'block';
                imperialInputs.style.display = 'none';
            } else {
                // Convert metric to imperial
                const bust = parseFloat(document.getElementById('bustCm').value) / 2.54;
                const waist = parseFloat(document.getElementById('waistCm').value) / 2.54;
                const highHip = parseFloat(document.getElementById('highHipCm').value) / 2.54;
                const hip = parseFloat(document.getElementById('hipCm').value) / 2.54;

                document.getElementById('bustInches').value = bust.toFixed(1);
                document.getElementById('waistInches').value = waist.toFixed(1);
                document.getElementById('highHipInches').value = highHip.toFixed(1);
                document.getElementById('hipInches').value = hip.toFixed(1);

                metricInputs.style.display = 'none';
                imperialInputs.style.display = 'block';
            }
        }

        function getBodyShape(bust, waist, highHip, hip) {
            // Calculate differences
            const bustHipDiff = Math.abs(bust - hip);
            const bustWaistDiff = bust - waist;
            const hipWaistDiff = hip - waist;

            // Calculate 5% threshold for rectangle
            const avg = (bust + waist + hip) / 3;
            const threshold5Percent = avg * 0.05;

            // 1. Hourglass - Bust within 1 inch of Hip, Waist at least 9 inches smaller than Bust
            if (bustHipDiff <= 1 && bustWaistDiff >= 9) {
                return {
                    shape: 'Hourglass',
                    description: 'Balanced bust and hips with defined waist',
                    tips: 'Emphasize your defined waist with fitted styles, wrap dresses, and belted outfits. You can wear both fitted and flowing styles beautifully. Avoid boxy or shapeless clothing that hides your natural curves.'
                };
            }

            // 2. Bottom Hourglass (Spoon/Pear with defined waist) - Hip larger than Bust by 2+, Waist 7+ smaller than Hip, High Hip smaller than Bust
            if (hip > bust + 2 && hipWaistDiff >= 7 && highHip < bust) {
                return {
                    shape: 'Bottom Hourglass',
                    description: 'Pear-shaped with defined waist and curves',
                    tips: 'Balance your proportions by adding volume on top with embellished or detailed tops, boat necks, and structured shoulders. Wear A-line or fit-and-flare dresses. Choose darker colors for bottoms and brighter colors for tops.'
                };
            }

            // 3. Top Hourglass - Bust larger than Hip by 2+, Waist at least 9 inches smaller than Bust
            if (bust > hip + 2 && bustWaistDiff >= 9) {
                return {
                    shape: 'Top Hourglass',
                    description: 'Athletic build with broader shoulders',
                    tips: 'Balance your silhouette by adding volume to your lower half with A-line skirts, wide-leg pants, or peplum tops. V-necks and wrap tops work well. Avoid excessive volume or padding on top.'
                };
            }

            // 4. Spoon (Pear) - Hip larger than Bust by 2+, High Hip >= Bust, Waist 7+ smaller than Hip
            if (hip > bust + 2 && highHip >= bust && hipWaistDiff >= 7) {
                return {
                    shape: 'Spoon (Pear)',
                    description: 'Hip-heavy with gradual curve from waist',
                    tips: 'Draw attention upward with bright colors, patterns, or embellishments on top. Wear bootcut or flared pants to balance your hips. A-line dresses and tops that highlight your shoulders work well. Avoid skinny jeans and overly tight bottoms.'
                };
            }

            // 5. Triangle (Pear) - Hip larger than Bust by 3.6+, Waist smaller than Hip by less than 9
            if (hip > bust + 3.6 && hipWaistDiff < 9) {
                return {
                    shape: 'Triangle (Pear)',
                    description: 'Pear-shaped with wider hips than bust',
                    tips: 'Create balance by emphasizing your upper body with statement necklaces, bright colors, and detailed tops. Choose darker bottoms and consider bootcut or straight-leg pants. A-line and empire waist dresses are flattering.'
                };
            }

            // 6. Inverted Triangle - Bust larger than Hip by 3.6+, Waist smaller than Bust by less than 9
            if (bust > hip + 3.6 && bustWaistDiff < 9) {
                return {
                    shape: 'Inverted Triangle',
                    description: 'Broader shoulders/bust, narrower hips',
                    tips: 'Add volume to your lower half with wide-leg pants, A-line skirts, and flared styles. Choose V-necks and simple tops to minimize your upper body. Avoid shoulder pads, boat necks, and horizontal stripes on top.'
                };
            }

            // 7. Rectangle (Banana) - All measurements within 5% of each other
            if (Math.abs(bust - waist) <= threshold5Percent &&
                Math.abs(hip - waist) <= threshold5Percent &&
                Math.abs(bust - hip) <= threshold5Percent) {
                return {
                    shape: 'Rectangle (Banana)',
                    description: 'Straight, athletic build with similar measurements',
                    tips: 'Create curves and definition with layering, belts, and peplum styles. Ruffles, embellishments, and color blocking can add dimension. Try fit-and-flare dresses and structured pieces. Avoid completely straight or boxy cuts.'
                };
            }

            // Default to Rectangle if no other category matches
            return {
                shape: 'Rectangle (Banana)',
                description: 'Straight, athletic build with similar measurements',
                tips: 'Create curves and definition with layering, belts, and peplum styles. Ruffles, embellishments, and color blocking can add dimension. Try fit-and-flare dresses and structured pieces. Avoid completely straight or boxy cuts.'
            };
        }

        function calculateBodyType() {
            const unitSystem = document.getElementById('unitSystem').value;

            let bust, waist, highHip, hip, unit;

            if (unitSystem === 'imperial') {
                bust = parseFloat(document.getElementById('bustInches').value);
                waist = parseFloat(document.getElementById('waistInches').value);
                highHip = parseFloat(document.getElementById('highHipInches').value);
                hip = parseFloat(document.getElementById('hipInches').value);
                unit = 'in';
            } else {
                bust = parseFloat(document.getElementById('bustCm').value);
                waist = parseFloat(document.getElementById('waistCm').value);
                highHip = parseFloat(document.getElementById('highHipCm').value);
                hip = parseFloat(document.getElementById('hipCm').value);
                unit = 'cm';
            }

            // Calculate ratios
            const whr = waist / hip;
            const waistToBust = waist / bust;
            const hipToBust = hip / bust;

            // Determine health status based on WHR
            let whrStatus = '';
            if (whr < 0.80) {
                whrStatus = 'Healthy (Female: <0.80)';
            } else if (whr < 0.90) {
                whrStatus = 'Moderate (Female: 0.80-0.89)';
            } else {
                whrStatus = 'At Risk (Female: ≥0.90)';
            }

            // Get body shape
            const { shape, description, tips } = getBodyShape(bust, waist, highHip, hip);

            const resultHTML = `
                <div class="key-insight">
                    <h3>Your Body Type: ${shape}</h3>
                    <p><strong>Shape Characteristics:</strong> ${description}</p>
                    <div class="shape-description">
                        <p><strong>Waist-to-Hip Ratio:</strong> ${whr.toFixed(2)} - ${whrStatus}</p>
                    </div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Bust</div>
                        <div class="metric-value">${bust.toFixed(1)} ${unit}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Waist</div>
                        <div class="metric-value">${waist.toFixed(1)} ${unit}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">High Hip</div>
                        <div class="metric-value">${highHip.toFixed(1)} ${unit}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Hip</div>
                        <div class="metric-value">${hip.toFixed(1)} ${unit}</div>
                    </div>
                </div>

                <div class="ratios-section">
                    <h3>Body Ratios</h3>
                    <div class="ratio-grid">
                        <div class="ratio-card">
                            <div class="metric-label">Waist-to-Hip Ratio</div>
                            <div class="metric-value">${whr.toFixed(2)}</div>
                        </div>
                        <div class="ratio-card">
                            <div class="metric-label">Waist-to-Bust Ratio</div>
                            <div class="metric-value">${waistToBust.toFixed(2)}</div>
                        </div>
                        <div class="ratio-card">
                            <div class="metric-label">Hip-to-Bust Ratio</div>
                            <div class="metric-value">${hipToBust.toFixed(2)}</div>
                        </div>
                    </div>
                </div>

                <div class="styling-tips">
                    <h3>Styling Tips for ${shape}</h3>
                    <p>${tips}</p>
                </div>

                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>

                <div class="chart-container">
                    <canvas id="barChart"></canvas>
                </div>
            `;

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = resultHTML;
            resultDiv.style.display = 'block';

            // Smooth scroll to results
            setTimeout(() => {
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);

            // Create radar chart
            if (radarChartInstance) {
                radarChartInstance.destroy();
            }

            const radarCtx = document.getElementById('radarChart').getContext('2d');
            radarChartInstance = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: ['Bust', 'Waist', 'High Hip', 'Hip'],
                    datasets: [{
                        label: `Body Measurements (${unit})`,
                        data: [bust, waist, highHip, hip],
                        backgroundColor: 'rgba(44, 95, 111, 0.2)',
                        borderColor: '#2C5F6F',
                        borderWidth: 2,
                        pointBackgroundColor: '#2C5F6F',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#2C5F6F'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: 'Body Measurements Radar Chart',
                            font: { size: 16, weight: 'bold' }
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 5
                            }
                        }
                    }
                }
            });

            // Create bar chart
            if (barChartInstance) {
                barChartInstance.destroy();
            }

            const barCtx = document.getElementById('barChart').getContext('2d');
            barChartInstance = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: ['Bust', 'Waist', 'High Hip', 'Hip'],
                    datasets: [{
                        label: `Measurements (${unit})`,
                        data: [bust, waist, highHip, hip],
                        backgroundColor: ['#2C5F6F', '#5FA8D3', '#E89B6F', '#6B9080'],
                        borderWidth: 0,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        },
                        title: {
                            display: true,
                            text: 'Body Measurements Comparison',
                            font: { size: 16, weight: 'bold' }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: `Measurement (${unit})`
                            }
                        }
                    }
                }
            });
        }
    </script>
    <!-- AI Chat Assistant -->
    <link rel="stylesheet" href="css/ai-chat.css">
    <script src="js/ai-chat.js"></script>
</body>
</html>
