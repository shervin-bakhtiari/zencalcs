<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    <title>ROI Calculator - Return on Investment | ZenCalcs</title>
    <meta name="description" content="Free ROI calculator with annualized returns. Calculate return on investment, profit percentage, and compare investment performance.">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YMJ87N3YC3"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YMJ87N3YC3');
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        /* Typography */
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: #F8F9FA; min-height: 100vh; color: #2D3748; }

        /* Navigation */
        .navbar { background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.1); padding: 15px 30px; position: sticky; top: 0; z-index: 1000; }
        .nav-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .logo { height: 40px; width: auto; }
        .nav-right { display: flex; gap: 20px; align-items: center; }
        .search-box { display: flex; align-items: center; background: #FFFFFF; border: 1px solid #E5E7EB; border-radius: 8px; padding: 8px 16px; min-width: 250px; transition: all 0.3s ease; }
        .search-box:hover { border-color: #2C5F6F; }
        .search-box:focus-within { border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .search-box svg { width: 20px; height: 20px; color: #6B7280; margin-right: 10px; }
        .search-box input { border: none; outline: none; background: transparent; flex: 1; color: #2D3748; font-size: 0.95em; }
        .search-box input::placeholder { color: #D1D5DB; }
        .hamburger { display: flex; flex-direction: column; gap: 5px; cursor: pointer; padding: 5px; }
        .hamburger span { width: 28px; height: 3px; background: #2C5F6F; border-radius: 3px; transition: all 0.3s ease; }
        .hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(8px, 8px); }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }
        .mobile-menu { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: rgba(0,0,0,0.5); z-index: 999; }
        .mobile-menu.active { display: block; }
        .mobile-menu-content { position: fixed; top: 0; right: -350px; width: 320px; height: 100vh; background: white; box-shadow: -2px 0 10px rgba(0,0,0,0.1); transition: right 0.3s ease; padding: 80px 20px 20px 20px; overflow-y: auto; }
        .mobile-menu.active .mobile-menu-content { right: 0; }
        .search-container { padding: 10px 15px 20px; }
        .search-input { width: 100%; padding: 12px 15px; border: 2px solid #E5E7EB; border-radius: 8px; font-size: 1em; }
        .search-input:focus { outline: none; border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .category-header { font-size: 0.9em; font-weight: 700; color: #6B7280; padding: 15px 20px 10px; text-transform: uppercase; letter-spacing: 1px; }
        .category-divider { height: 1px; background: #E5E7EB; margin: 10px 0; }
        .mobile-menu-item { padding: 14px 20px; margin-bottom: 5px; background: #F8F9FA; border-radius: 8px; font-size: 0.95em; font-weight: 500; color: #2C5F6F; text-decoration: none; display: block; transition: all 0.3s ease; border-left: 4px solid transparent; }
        .mobile-menu-item:hover { background: #E0F2F1; border-left-color: #2C5F6F; transform: translateX(-5px); }
        .mobile-menu-item.placeholder { opacity: 0.5; cursor: not-allowed; }
        .mobile-menu-item.placeholder:hover { transform: none; }

        .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }
        .calculator-section { background: white; border-radius: 15px; padding: 40px; box-shadow: 0 2px 10px rgba(0,0,0,0.08); margin-bottom: 30px; }
        .calculator-section h1 { color: #2D3748; margin-bottom: 10px; font-size: 2.2em; text-align: center; }
        .calc-subtitle { text-align: center; color: #6B7280; margin-bottom: 30px; font-size: 1.1em; }
        .description { background: #E0F2F1; padding: 25px; border-radius: 12px; margin-bottom: 30px; border-left: 5px solid #2C5F6F; }
        .description p { color: #4B5563; line-height: 1.8; font-size: 1.05em; }

        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; font-weight: 600; margin-bottom: 8px; color: #4B5563; font-size: 1em; }
        .input-group input, .input-group select { width: 100%; padding: 14px; border: 2px solid #E5E7EB; border-radius: 8px; font-size: 1em; transition: all 0.3s ease; }
        .input-group input:focus, .input-group select:focus { outline: none; border-color: #2C5F6F; box-shadow: 0 0 0 3px rgba(44, 95, 111, 0.1); }
        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        /* Radio button group styling */
        .radio-group { margin-bottom: 25px; }
        .radio-group label { display: block; font-weight: 600; margin-bottom: 12px; color: #4B5563; font-size: 1em; }
        .radio-options { display: flex; gap: 20px; flex-wrap: wrap; }
        .radio-option { display: flex; align-items: center; cursor: pointer; padding: 12px 20px; border: 2px solid #E5E7EB; border-radius: 8px; transition: all 0.3s ease; }
        .radio-option:hover { border-color: #2C5F6F; background: #F8F9FA; }
        .radio-option input[type="radio"] { margin-right: 10px; width: 20px; height: 20px; cursor: pointer; accent-color: #2C5F6F; }
        .radio-option.selected { border-color: #2C5F6F; background: #E0F2F1; }
        .radio-option span { font-size: 1em; font-weight: 500; color: #2D3748; }

        .date-fields, .length-fields { display: none; }
        .date-fields.active, .length-fields.active { display: block; }

        .calculate-btn { width: 100%; padding: 18px; background: linear-gradient(135deg, #E89B6F 0%, #F4A460 100%); color: white; border: none; border-radius: 10px; font-size: 1.2em; font-weight: 700; cursor: pointer; transition: all 0.3s ease; margin-top: 25px; box-shadow: 0 4px 15px rgba(232, 155, 111, 0.4); }
        .calculate-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(232, 155, 111, 0.5); }

        .result-section { margin-top: 40px; display: none; }
        .key-insight { background: linear-gradient(135deg, #E89B6F 0%, #F4A460 100%); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(44, 95, 111, 0.3); }
        .key-insight h3 { font-size: 1.5em; margin-bottom: 15px; }
        .key-insight p, .key-insight ul { font-size: 1.1em; line-height: 1.8; opacity: 0.95; }
        .key-insight ul { margin-top: 15px; padding-left: 25px; }
        .key-insight li { margin-bottom: 10px; }

        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .metric-card { background: #F8F9FA; padding: 25px; border-radius: 12px; border-left: 5px solid #2C5F6F; transition: all 0.3s ease; }
        .metric-card:hover { transform: translateY(-3px); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .metric-label { font-size: 0.95em; color: #6B7280; margin-bottom: 10px; font-weight: 600; }
        .metric-value { font-size: 2em; font-weight: 700; color: #2C5F6F; word-break: break-word; }

        .chart-container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); margin-bottom: 30px; position: relative; height: 450px; }

        @media (max-width: 768px) {
            .navbar { padding: 10px 15px; }
            .logo { height: 32px; }
            .nav-right { gap: 10px; }
            .search-box { min-width: 50px; padding: 6px 8px; }
            .search-box svg { width: 16px; height: 16px; margin-right: 4px; }
            .search-box input { font-size: 0.8em; }
            .calculator-section { padding: 25px; }
            .chart-container { height: 300px; padding: 20px; }
            .input-row { grid-template-columns: 1fr; }
            .mobile-menu-content { width: 280px; right: -280px; }
            .hamburger { margin-left: 5px; padding: 3px; }
            .hamburger span { width: 24px; }
            .radio-options { flex-direction: column; gap: 10px; }
        }
        @media (max-width: 400px) {
            .navbar { padding: 8px 12px; }
            .logo { height: 28px; }
            .nav-right { gap: 8px; }
            .search-box { min-width: 40px; padding: 5px 6px; }
            .hamburger span { width: 22px; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html">
                <img src="50F4465B-4D0A-459B-AAD8-B367AAEEF636.jpg" alt="ZenCalcs Logo" class="logo">
            </a>

            <div class="nav-right">
                <div class="search-box" onclick="openSearchInMenu()">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <input type="text" placeholder="Search Calculator" readonly onclick="openSearchInMenu()">
                </div>
                <div class="hamburger" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Slide-out Menu -->
    <div class="mobile-menu" id="mobileMenu" onclick="closeMobileMenu()">
        <div class="mobile-menu-content" onclick="event.stopPropagation()">
            <!-- Search Bar -->
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Search calculators..." onkeyup="filterCalculators()">
            </div>

            <!-- Financial Calculators -->
            <div class="category-header">Financial</div>
            <a href="mortgage-calculator.html" class="mobile-menu-item">Mortgage Calculator</a>
            <a href="loan-calculator.html" class="mobile-menu-item">Loan Calculator</a>
            <a href="auto-loan-calculator.html" class="mobile-menu-item">Auto Loan Calculator</a>
            <a href="compound-interest.html" class="mobile-menu-item">Savings Calculator</a>
            <a href="payment-calculator.html" class="mobile-menu-item">Payment Calculator</a>
            <a href="retirement-calculator.html" class="mobile-menu-item">Retirement Calculator</a>
            <a href="amortization-calculator.html" class="mobile-menu-item">Amortization Calculator</a>
            <a href="investment-calculator.html" class="mobile-menu-item">Investment Calculator</a>
            <a href="inflation-calculator.html" class="mobile-menu-item">Inflation Calculator</a>
            <a href="roi-calculator.html" class="mobile-menu-item">ROI Calculator</a>
            <a href="savings-calculator.html" class="mobile-menu-item">Income Tax Calculator</a>

            <div class="category-divider"></div>

            <!-- Fitness & Health -->
            <div class="category-header">Fitness & Health</div>
            <a href="bmi-calculator.html" class="mobile-menu-item">BMI Calculator</a>
            <a href="calorie-calculator.html" class="mobile-menu-item">Calorie Calculator</a>
            <a href="body-fat-calculator.html" class="mobile-menu-item">Body Fat Calculator</a>
            <a href="bmr-calculator.html" class="mobile-menu-item">BMR Calculator</a>
            <a href="ideal-weight-calculator.html" class="mobile-menu-item">Ideal Weight Calculator</a>
            <a href="pace-calculator.html" class="mobile-menu-item">Pace Calculator</a>
            <a href="pregnancy-calculator.html" class="mobile-menu-item">Pregnancy Calculator</a>
            <a href="due-date-calculator.html" class="mobile-menu-item">Due Date Calculator</a>
            <a href="macro-calculator.html" class="mobile-menu-item">Macro Calculator</a>
            <a href="body-type-calculator.html" class="mobile-menu-item">Body Type Calculator</a>

            <div class="category-divider"></div>

            <!-- Math Calculators -->
            <div class="category-header">Math</div>
            <a href="scientific-calculator.html" class="mobile-menu-item">Scientific Calculator</a>
            <a href="fraction-calculator.html" class="mobile-menu-item">Fraction Calculator</a>
            <a href="percentage-calculator.html" class="mobile-menu-item">Percentage Calculator</a>
            <a href="random-number-generator.html" class="mobile-menu-item">Random Number Generator</a>
            <a href="triangle-calculator.html" class="mobile-menu-item">Triangle Calculator</a>
            <a href="standard-deviation-calculator.html" class="mobile-menu-item">Standard Deviation Calculator</a>
            <a href="square-root-calculator.html" class="mobile-menu-item">Square Root Calculator</a>
            <a href="exponent-calculator.html" class="mobile-menu-item">Exponent Calculator</a>
            <a href="log-calculator.html" class="mobile-menu-item">Log Calculator</a>
            <a href="algebra-calculator.html" class="mobile-menu-item">Algebra Calculator</a>

            <div class="category-divider"></div>

            <!-- Other Calculators -->
            <div class="category-header">Other</div>
            <a href="#" class="mobile-menu-item placeholder">Age Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Date Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Time Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Hours Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">GPA Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Grade Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Concrete Calculator</a>
            <a href="#" class="mobile-menu-item placeholder">Password Generator</a>
            <a href="#" class="mobile-menu-item placeholder">Conversion Calculator</a>
            <a href="salary-calculator.html" class="mobile-menu-item">Salary Calculator</a>
        </div>
    </div>

    <div class="container">
        <div class="calculator-section">
            <h1>ROI Calculator</h1>
            <p class="calc-subtitle">Calculate return on investment with annualized returns</p>

            <div class="description">
                <p>Measure investment performance with detailed ROI calculations. Calculate your total return, profit percentage, and annualized ROI to compare different investments effectively. Our calculator provides clear insights into your investment gains and helps you understand the true performance of your investments over time.</p>
            </div>

            <div class="input-group">
                <label>Amount Invested ($)</label>
                <input type="number" id="amountInvested" value="10000" min="0" step="0.01">
            </div>
            <div class="input-group">
                <label>Amount Returned ($)</label>
                <input type="number" id="amountReturned" value="15000" min="0" step="0.01">
            </div>

            <div class="radio-group">
                <label>Investment Time</label>
                <div class="radio-options">
                    <label class="radio-option" id="dateRangeOption">
                        <input type="radio" name="timeOption" value="dateRange" onchange="toggleTimeOption()">
                        <span>Use Date Range</span>
                    </label>
                    <label class="radio-option selected" id="lengthOption">
                        <input type="radio" name="timeOption" value="length" checked onchange="toggleTimeOption()">
                        <span>Use Investment Length</span>
                    </label>
                </div>
            </div>

            <div class="date-fields" id="dateFields">
                <div class="input-row">
                    <div class="input-group">
                        <label>From Date</label>
                        <div class="input-row">
                            <select id="fromMonth">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <select id="fromYear"></select>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>To Date</label>
                        <div class="input-row">
                            <select id="toMonth">
                                <option value="0">January</option>
                                <option value="1">February</option>
                                <option value="2">March</option>
                                <option value="3">April</option>
                                <option value="4">May</option>
                                <option value="5">June</option>
                                <option value="6">July</option>
                                <option value="7">August</option>
                                <option value="8">September</option>
                                <option value="9">October</option>
                                <option value="10">November</option>
                                <option value="11">December</option>
                            </select>
                            <select id="toYear"></select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="length-fields active" id="lengthFields">
                <div class="input-group">
                    <label>Investment Length (years)</label>
                    <input type="number" id="investmentLength" value="5" min="0.1" step="0.1">
                </div>
            </div>

            <button class="calculate-btn" onclick="calculateROI()">Calculate ROI</button>
            <div class="result-section" id="result"></div>
        </div>
    </div>

    <script>
        let chartInstance = null;

        // Populate year dropdowns
        function populateYearDropdowns() {
            const fromYearSelect = document.getElementById('fromYear');
            const toYearSelect = document.getElementById('toYear');
            const currentYear = new Date().getFullYear();

            for (let year = 2000; year <= 2030; year++) {
                const option1 = document.createElement('option');
                option1.value = year;
                option1.textContent = year;
                fromYearSelect.appendChild(option1);

                const option2 = document.createElement('option');
                option2.value = year;
                option2.textContent = year;
                toYearSelect.appendChild(option2);
            }

            // Set default values
            fromYearSelect.value = currentYear - 5;
            toYearSelect.value = currentYear;
        }

        // Initialize year dropdowns on load
        populateYearDropdowns();

        function formatCurrency(value) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(value);
        }

        function formatPercent(value) {
            return value.toFixed(2) + '%';
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.remove('active');
            hamburger.classList.remove('active');
        }

        function openSearchInMenu() {
            const menu = document.getElementById('mobileMenu');
            const hamburger = document.querySelector('.hamburger');
            menu.classList.add('active');
            hamburger.classList.add('active');
            setTimeout(() => {
                document.getElementById('searchInput').focus();
            }, 300);
        }

        function filterCalculators() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const items = document.querySelectorAll('.mobile-menu-item');
            const headers = document.querySelectorAll('.category-header');
            const dividers = document.querySelectorAll('.category-divider');

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });

            // Hide/show category headers based on visible items
            if (searchTerm) {
                headers.forEach(header => header.style.display = 'none');
                dividers.forEach(divider => divider.style.display = 'none');
            } else {
                headers.forEach(header => header.style.display = 'block');
                dividers.forEach(divider => divider.style.display = 'block');
            }
        }

        function toggleTimeOption() {
            const dateRangeRadio = document.querySelector('input[value="dateRange"]');
            const lengthRadio = document.querySelector('input[value="length"]');
            const dateFields = document.getElementById('dateFields');
            const lengthFields = document.getElementById('lengthFields');
            const dateRangeOption = document.getElementById('dateRangeOption');
            const lengthOption = document.getElementById('lengthOption');

            if (dateRangeRadio.checked) {
                dateFields.classList.add('active');
                lengthFields.classList.remove('active');
                dateRangeOption.classList.add('selected');
                lengthOption.classList.remove('selected');
            } else {
                dateFields.classList.remove('active');
                lengthFields.classList.add('active');
                dateRangeOption.classList.remove('selected');
                lengthOption.classList.add('selected');
            }
        }

        function calculateYearsBetweenDates(fromMonth, fromYear, toMonth, toYear) {
            const fromDate = new Date(fromYear, fromMonth, 1);
            const toDate = new Date(toYear, toMonth, 1);

            const monthsDiff = (toYear - fromYear) * 12 + (toMonth - fromMonth);
            return monthsDiff / 12;
        }

        function calculateROI() {
            const amountInvested = parseFloat(document.getElementById('amountInvested').value);
            const amountReturned = parseFloat(document.getElementById('amountReturned').value);
            const dateRangeRadio = document.querySelector('input[value="dateRange"]');

            let investmentYears;

            if (dateRangeRadio.checked) {
                const fromMonth = parseInt(document.getElementById('fromMonth').value);
                const fromYear = parseInt(document.getElementById('fromYear').value);
                const toMonth = parseInt(document.getElementById('toMonth').value);
                const toYear = parseInt(document.getElementById('toYear').value);

                investmentYears = calculateYearsBetweenDates(fromMonth, fromYear, toMonth, toYear);

                if (investmentYears <= 0) {
                    alert('To Date must be after From Date');
                    return;
                }
            } else {
                investmentYears = parseFloat(document.getElementById('investmentLength').value);
            }

            if (amountInvested <= 0) {
                alert('Amount Invested must be greater than 0');
                return;
            }

            if (investmentYears <= 0) {
                alert('Investment Length must be greater than 0');
                return;
            }

            // Calculate metrics
            const investmentGain = amountReturned - amountInvested;
            const roi = (investmentGain / amountInvested) * 100;
            const annualizedROI = (Math.pow(amountReturned / amountInvested, 1 / investmentYears) - 1) * 100;
            const profitPercentage = (investmentGain / amountInvested) * 100;

            // Calculate percentages for pie chart
            const investedPercent = (amountInvested / amountReturned) * 100;
            const profitPercent = (investmentGain / amountReturned) * 100;

            const resultDiv = document.getElementById('result');

            let performanceInsight = '';
            if (annualizedROI > 10) {
                performanceInsight = 'This is an excellent return! Your investment significantly outperformed typical market returns.';
            } else if (annualizedROI > 7) {
                performanceInsight = 'This is a strong return, comparable to historical stock market averages.';
            } else if (annualizedROI > 3) {
                performanceInsight = 'This is a moderate return, performing better than most savings accounts.';
            } else if (annualizedROI > 0) {
                performanceInsight = 'This is a modest positive return. Consider reviewing if this meets your investment goals.';
            } else {
                performanceInsight = 'This investment has a negative return. You may want to reassess your investment strategy.';
            }

            resultDiv.innerHTML = `
                <div class="key-insight">
                    <h3>Your Investment Performance</h3>
                    <p>You invested <strong>${formatCurrency(amountInvested)}</strong> and received <strong>${formatCurrency(amountReturned)}</strong>, generating a profit of <strong>${formatCurrency(investmentGain)}</strong> over ${investmentYears.toFixed(2)} years. Your total ROI is <strong>${formatPercent(roi)}</strong>, with an annualized return of <strong>${formatPercent(annualizedROI)}</strong>.</p>
                    <ul>
                        <li><strong>Performance:</strong> ${performanceInsight}</li>
                        <li><strong>Profit Ratio:</strong> For every dollar invested, you ${investmentGain >= 0 ? 'gained' : 'lost'} ${formatCurrency(Math.abs(investmentGain / amountInvested))}</li>
                        <li><strong>Time Factor:</strong> Your annualized return of ${formatPercent(annualizedROI)} ${annualizedROI > 7 ? 'exceeds' : annualizedROI > 3 ? 'is comparable to' : 'is below'} typical market performance</li>
                    </ul>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Investment Gain</div>
                        <div class="metric-value">${formatCurrency(investmentGain)}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">ROI %</div>
                        <div class="metric-value">${formatPercent(roi)}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Annualized ROI %</div>
                        <div class="metric-value">${formatPercent(annualizedROI)}</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Investment Length</div>
                        <div class="metric-value">${investmentYears.toFixed(2)} yrs</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="roiChart"></canvas>
                </div>
            `;

            resultDiv.style.display = 'block';

            // Smooth scroll to results
            setTimeout(() => {
                resultDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }, 100);

            if (chartInstance) {
                chartInstance.destroy();
            }

            setTimeout(() => {
                const ctx = document.getElementById('roiChart');
                chartInstance = new Chart(ctx.getContext('2d'), {
                    type: 'pie',
                    data: {
                        labels: [
                            `Invested: ${formatCurrency(amountInvested)} (${investedPercent.toFixed(1)}%)`,
                            `Profit: ${formatCurrency(investmentGain)} (${profitPercent.toFixed(1)}%)`
                        ],
                        datasets: [{
                            data: [amountInvested, investmentGain],
                            backgroundColor: ['#2C5F6F', '#E89B6F'],
                            borderWidth: 2,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    font: { size: 14 }
                                }
                            },
                            title: {
                                display: true,
                                text: 'Investment Breakdown',
                                font: { size: 18, weight: 'bold' },
                                padding: { bottom: 20 }
                            },
                            tooltip: {
                                callbacks: {
                                    label: (context) => {
                                        const label = context.label || '';
                                        return label;
                                    }
                                }
                            }
                        }
                    }
                });
            }, 100);
        }
    </script>
</body>
</html>
